<!-- productType attribute defines type of product to load -->
<product-page productType="shakemap">

  <!-- container with header attribute is added before attribution -->
  <ng-container header>
    <h3>ShakeMap</h3>
  </ng-container>

  <ng-container *ngIf="eventService.product$ | async; let shakemap">
  <!-- routes/components in ../origin-routing.module.ts -->
    <nav mat-tab-nav-bar>
      <a *ngIf="shakemap?.contents['download/cont_mi.json'] ||
          shakemap?.contents['download/intensity.jpg']"
          mat-tab-link [routerLink]="'./intensity'"
          queryParamsHandling="preserve"
          routerLinkActive #intensity="routerLinkActive"
          [active]="intensity.isActive">
        Intensity
      </a>
      <a *ngIf="shakemap?.contents['download/cont_pga.json'] ||
          shakemap?.contents['download/pga.jpg']"
          mat-tab-link [routerLink]="'./pga'"
          queryParamsHandling="preserve"
          routerLinkActive #pga="routerLinkActive"
          [active]="pga.isActive">
        <abbr title="Peak Ground Acceleration">PGA</abbr>
      </a>
      <a *ngIf="shakemap?.contents['download/cont_pgv.json'] ||
          shakemap?.contents['download/pgv.jpg']"
          mat-tab-link [routerLink]="'./pgv'"
          queryParamsHandling="preserve"
          routerLinkActive #pgv="routerLinkActive"
          [active]="pgv.isActive">
        <abbr title="Peak Ground Velocity">PGV</abbr>
      </a>
      <a *ngIf="shakemap?.contents['download/cont_psa03.json'] ||
          shakemap?.contents['download/cont_psa10.json'] ||
          shakemap?.contents['download/cont_psa30.json'] ||
          shakemap?.contents['download/psa03.jpg'] ||
          shakemap?.contents['download/psa10.jpg'] ||
          shakemap?.contents['download/psa30.jpg']"
          mat-tab-link [routerLink]="'./psa'"
          queryParamsHandling="preserve"
          routerLinkActive #psa="routerLinkActive"
          [active]="psa.isActive">
        <abbr title="Peak Spectral Acceleration">PSA</abbr>
      </a>
      <a mat-tab-link [routerLink]="'./metadata'"
          queryParamsHandling="preserve"
          routerLinkActive #metadata="routerLinkActive"
          [active]="metadata.isActive">
        Metadata
      </a>
      <a mat-tab-link [routerLink]="'./stations'"
          queryParamsHandling="preserve"
          routerLinkActive #stations="routerLinkActive"
          [active]="stations.isActive">
        Station List
      </a>
      <a *ngIf="shakemap?.contents['download/urat_pga.jpg']"
          mat-tab-link [routerLink]="'./uncertainty'"
          queryParamsHandling="preserve"
          routerLinkActive #uncertainty="routerLinkActive"
          [active]="uncertainty.isActive">
        Uncertainty
      </a>
    </nav>

    <router-outlet></router-outlet>
  </ng-container>

  <!-- container with footer attribute is added before downloads -->
  <ng-container footer>
  </ng-container>

</product-page>

<ng-container *ngIf="eventService.product$ | async; let shakemap">

  <a *ngIf="shakemap?.contents['download/cont_pgv.json']; else noOverlay"
      [routerLink]="'../../map'"
      [queryParams]="{
        'shakemap-code': shakemap?.code,
        'shakemap-source': shakemap?.source,
        'shakemap-pgv': true,
        'shakemap-intensity': false
      }">

    <shared-map
        [overlays]="shakemap | shakemapOverlays:'shakemap-pgv'"
        [showScaleControl]="true">
    </shared-map>
  </a>

  <ng-template #noOverlay>
    <img
        *ngIf="shakemap?.contents['download/pgv.jpg']"
        src="{{ shakemap.contents['download/pgv.jpg'].url }}"
        alt="ShakeMap peak ground velocity image">
  </ng-template>

</ng-container>
